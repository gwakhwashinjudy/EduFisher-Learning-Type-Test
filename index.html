<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì—ë“€í”¼ì…” 16ê°€ì§€ í•™ìŠµì„±í–¥ ê²€ì‚¬</title>
  <style>
    :root{
      --bg:#0f172a; /* slate-900 */
      --card:#111827; /* gray-900 */
      --muted:#94a3b8; /* slate-400 */
      --text:#e5e7eb; /* gray-200 */
      --accent:#60a5fa; /* blue-400 */
      --accent2:#22d3ee; /* cyan-400 */
      --ok:#34d399; /* emerald-400 */
      --warn:#f59e0b; /* amber-500 */
      --danger:#fb7185; /* rose-400 */
      --shadow: 0 10px 25px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(160deg,#0b1024,#0f172a,#0b1024);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;}
    .container{max-width:960px;margin:0 auto;padding:28px}
    header{display:flex;gap:16px;align-items:center;margin:12px 0 22px}
    header .logo{width:48px;height:48px;border-radius:12px;background:radial-gradient(circle at 30% 30%,#ffe4a3,#f59e0b 40%,#7c3aed 70%);box-shadow:var(--shadow)}
    h1{font-size: clamp(22px, 4vw, 32px);margin:0}
    p.subtitle{margin:6px 0 0;color:var(--muted)}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.06);backdrop-filter: blur(6px);padding:20px;border-radius:var(--radius);box-shadow:var(--shadow)}
    .grid{display:grid;gap:16px}
    @media (min-width: 800px){.grid.two{grid-template-columns:1.2fr .8fr}}
    .hint{display:flex;gap:12px;align-items:flex-start;background:rgba(255,255,255,0.04);border:1px dashed rgba(255,255,255,0.12);padding:14px;border-radius:14px}
    .hint .emoji{font-size:22px}
    input[type="text"], select{width:100%;padding:14px 16px;border-radius:14px;border:1px solid rgba(255,255,255,0.1);background:#0b1024;color:var(--text)}
    .btn{display:inline-flex;gap:8px;align-items:center;justify-content:center;padding:12px 18px;border-radius:14px;border:0;cursor:pointer;color:#0b1024;background:linear-gradient(135deg,var(--accent),var(--accent2));font-weight:700;box-shadow:var(--shadow)}
    .btn.secondary{background:rgba(255,255,255,0.08);color:var(--text);border:1px solid rgba(255,255,255,0.14)}
    .btn:disabled{opacity:.55;cursor:not-allowed}
    .progress{height:10px;background:rgba(255,255,255,0.08);border-radius:999px;overflow:hidden}
    .progress>div{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));width:0%}
    .q{padding:16px;border-radius:14px;border:1px solid rgba(255,255,255,0.08);background:rgba(255,255,255,0.03)}
    .q h3{margin:0 0 8px;font-size:16px}
    .badge{display:inline-flex;align-items:center;gap:8px;border:1px solid rgba(255,255,255,0.12);padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.04);color:var(--muted)}
    .result-type{font-weight:800;font-size:24px}
    .result-card{display:grid;gap:12px}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(96,165,250,.2);border:1px solid rgba(96,165,250,.35);color:#cfe7ff;font-size:12px}
    footer{margin:40px 0 10px;color:var(--muted);text-align:center;font-size:12px}
    .hidden{display:none !important}
    /* Axis bars */
    .axis-bar{display:flex;position:relative;height:24px;border-radius:12px;overflow:hidden;margin:6px 0}
    .axis-left{background:linear-gradient(90deg,#34d399,#10b981);text-align:right;padding-right:6px;color:#fff;font-weight:700;line-height:24px}
    .axis-right{background:linear-gradient(90deg,#6366f1,#8b5cf6);text-align:left;padding-left:6px;color:#fff;font-weight:700;line-height:24px}
    .axis-midline{position:absolute;left:50%;top:0;bottom:0;width:2px;background:rgba(255,255,255,0.25);mix-blend-mode:overlay}
    .axis-foot{display:flex;gap:8px;flex-wrap:wrap;align-items:center;font-size:12px;color:var(--muted);margin-top:4px}
    .axis-chip{display:inline-flex;gap:6px;align-items:center;padding:4px 8px;border-radius:999px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.12)}
    .axis-flag{font-weight:700;border-color:rgba(255,255,255,0.28)!important}
    /* Choice UI for ë°¸ëŸ°ìŠ¤ê²Œì„ */
    .choice-wrap{display:flex;flex-direction:column;gap:6px;margin-top:10px}
    .choice-wrap label{display:flex;align-items:center;gap:8px;padding:10px;border-radius:12px;background:rgba(255,255,255,0.04);cursor:pointer;transition:0.2s;}
    .choice-wrap input[type="radio"]{accent-color:#0b1e5b;}
    .choice-wrap label:hover{background:rgba(255,255,255,0.1)}
    /* Result blur & overlay CTA */
    .blur-wrap{position:relative}
    .is-blurred{filter:blur(6px);pointer-events:none;user-select:none}
    .blur-cover{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(15,23,42,.55),rgba(15,23,42,.8));border-radius:var(--radius);border:1px dashed rgba(255,255,255,.24);backdrop-filter: blur(4px);z-index:1}
    .lead-card{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:min(520px,92%);background:#ffffff;color:#0f172a;border-radius:16px;box-shadow:var(--shadow);padding:18px;border:1px solid rgba(0,0,0,.08);z-index:2}
    .lead-card h3{margin:0 0 10px;font-size:18px;color:#0f172a}
    .lead-card p{margin:0 0 12px;color:#334155}
    .lead-card .field{display:flex;flex-direction:column;gap:6px}
    .lead-card input[type="text"], .lead-card input[type="tel"], .lead-card input[type="password"], .lead-card select{width:100%;padding:12px 14px;border-radius:12px;border:1px solid rgba(0,0,0,.15);background:#fff;color:#0f172a}
    .lead-card .btn{width:100%}
    .lead-card .btn.secondary{background:#eef2ff;color:#111827;border:1px solid rgba(0,0,0,.12)}
    .overlay-box{max-width:560px;margin:0 auto;padding:22px;border-radius:16px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.2);box-shadow:var(--shadow);text-align:center}
    .overlay-box h3{margin:0 0 10px;font-size:18px}
    .overlay-box p{margin:0 0 14px;color:var(--text);opacity:.9}
    .overlay-box .btn{width:100%;}
/* ìƒë‹´ë°©ë²•(ì „í™”/ì¹´ì¹´ì˜¤í†¡/ë°©ë¬¸) ê¸€ì”¨ ë„¤ì´ë¹„ */
.lead-card .pill label,
.lead-card .pill span {
  color: #0b1e5b !important;
  font-weight: 600;
}

/* ì„ íƒëì„ ë•Œ ë°°ê²½ ë° ê¸€ì”¨ìƒ‰ */
.lead-card .pill input:checked + span {
  background-color: #c7d2fe;
  color: #0a1a44;
  border-color: #94a3f9;
}

  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1>ì—ë“€í”¼ì…” 16ê°€ì§€ í•™ìŠµì„±í–¥ í…ŒìŠ¤íŠ¸</h1>
        <p class="subtitle">ì´ë¦„ì„ ì…ë ¥í•˜ê³  ë¬¸í•­ì— ë‹µí•˜ë©´ 16ê°€ì§€ ì¡°í•©ìœ¼ë¡œ ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤. ê²°ê³¼ í˜ì´ì§€ì—ì„œ ë§ì¶¤ ë£¨í‹´ê³¼ ì½”ì¹­ í¬ì¸íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
      </div>
    </header>

    <!-- Intro Card -->
    <section id="intro" class="card grid two">
      <div class="grid">
        <div class="hint"><span class="emoji">ğŸ”</span><div>ì´ ê²€ì‚¬ëŠ” í•™ìŠµ ì„±í–¥ì„ ì´í•´í•˜ê³ , ìë…€ì—ê²Œ ë§ëŠ” ê³µë¶€ë²•ì„ ì°¾ë„ë¡ ë•ìŠµë‹ˆë‹¤.</div></div>
        <div class="hint"><span class="emoji">ğŸ¤</span><div>ê°•ì /ì•½ì ì€ ê³µì¡´í•©ë‹ˆë‹¤. ë³¸ ê²°ê³¼ëŠ” ë‚´ ì•„ì´ì˜ ê³ ì •ëœ íŠ¹ì§•ì´ ì•„ë‹ˆë¼ <b>ë§ì¶¤ ì½”ì¹­ì˜ ì¶œë°œì </b>ì…ë‹ˆë‹¤.</div></div>
        <div class="hint"><span class="emoji">ğŸ</span><div>ê²°ê³¼ í˜ì´ì§€ì—ì„œ <b>ì¶”ì²œ ê³µë¶€ ë£¨í‹´</b>ê³¼ <b>ì½”ì¹­ í¬ì¸íŠ¸</b>ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</div></div>
      </div>
      <div class="grid">
        <label for="username" class="badge">ì´ë¦„ ë˜ëŠ” ë‹‰ë„¤ì„</label>
        <input id="username" type="text" placeholder="ì˜ˆ: ë¯¼ì¤€ / Hwashin" />
        <button id="startBtn" class="btn" disabled>ì‹œì‘í•˜ê¸°</button>
        <small class="subtitle">ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ì´ë¦„ì„ ë¨¼ì € ì…ë ¥í•˜ì„¸ìš”.</small>
      </div>
    </section>

    <!-- Quiz Section -->
    <section id="quiz" class="card hidden">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px">
        <div class="badge">ë¬¸í•­ <span id="qIndex">1</span>/<span id="qTotal">0</span></div>
        <div class="badge hidden" id="axisBadge"></div>
      </div>
      <div class="progress" aria-hidden="true"><div id="progressBar"></div></div>
      <div id="qWrap" class="q" style="margin:14px 0"></div>
      <div style="display:flex;gap:10px;justify-content:space-between">
        <button id="prevBtn" class="btn secondary">ì´ì „</button>
        <button id="nextBtn" class="btn">ë‹¤ìŒ</button>
      </div>
    </section>

    <!-- Result Section -->
    <section id="result" class="card hidden">
      <div class="result-card" id="resultInner">
        <div class="badge">ì‘ì‹œì: <span id="resName"></span></div>
        <div class="result-type" id="resType">ìœ í˜•</div>
        <div id="resAxisRows"></div>

        <!-- â†“â†“â†“ ì—¬ê¸°ë¶€í„° ì½”ì¹­ ì„¹ì…˜ë§Œ ë¸”ëŸ¬ ì²˜ë¦¬ â†“â†“â†“ -->
        <div class="blur-wrap" id="coachWrap" style="margin-top:12px">
          <div class="is-blurred" id="coachInner">
            <h3 style="margin:0 0 8px;font-size:16px">ìš°ë¦¬ ì•„ì´ë¥¼ ìœ„í•œ í•™ìŠµ ì½”ì¹­</h3>
            <p id="resSummary" class="subtitle"></p>
            <div class="card" style="background:rgba(255,255,255,0.02);border-radius:var(--radius);padding:16px">
              <h3 style="margin:0 0 8px;font-size:16px">ê°„ë‹¨ ì¡°ì–¸ (ìš”ì•½)</h3>
              <div class="grid" style="grid-template-columns:1fr;gap:10px">
                <div>
                  <div class="subtitle" style="font-size:12px">ê°•ì </div>
                  <ul id="resStrength" style="margin:6px 0 0 18px; padding:0"></ul>
                </div>
                <div>
                  <div class="subtitle" style="font-size:12px">ì£¼ì˜</div>
                  <ul id="resCaution" style="margin:6px 0 0 18px; padding:0"></ul>
                </div>
                <div>
                  <div class="subtitle" style="font-size:12px">ì½”ì¹­ (ìê¸°ì£¼ë„)</div>
                  <ul id="resCoaching" style="margin:6px 0 0 18px; padding:0"></ul>
                </div>
              </div>
            </div>
          </div>
          <!-- ë°°ê²½ ë¸”ëŸ¬ ì˜¤ë²„ë ˆì´ (ë‚´ìš© ì—†ìŒ / í¼ì€ ì•„ë˜ í° ì¹´ë“œë¡œ ë³„ë„ í‘œì‹œ) -->
          <div class="blur-cover" id="resultOverlay"></div>
          <!-- í°ìƒ‰ ìƒë‹´ ì‹ ì²­ ì¹´ë“œ: ë¸”ëŸ¬ ì˜ì—­ ìœ„ ì¤‘ì•™ ë°°ì¹˜ -->
          <div class="lead-card" id="leadCard">
            <h3>ìƒë‹´ ì‹ ì²­</h3>
            <p class="subtitle" style="margin-bottom:8px">ë§‰ëŒ€ ê·¸ë˜í”„ ì•„ë˜ ìš”ì•½ ë³¸ë¬¸ì€ ìƒë‹´ ìŠ¹ì¸ í›„ ê³µê°œë©ë‹ˆë‹¤.</p>
            <form id="leadForm" class="grid" style="grid-template-columns:1fr;gap:10px;text-align:left">
              <div class="field"><label class="badge" for="pfName">ë³´í˜¸ì ì„±í•¨</label>
              <input id="pfName" type="text" placeholder="ì˜ˆ: ê¹€ë³´í˜¸ì" required></div>

              <div class="field"><label class="badge" for="pfPhone">ì—°ë½ì²˜</label>
              <input id="pfPhone" type="tel" placeholder="ì˜ˆ: 010-1234-5678" required></div>

              <div class="field"><label class="badge" for="pfGrade">ìë…€ í•™ë…„</label>
              <select id="pfGrade">
                <option value="">ì„ íƒ</option>
                <option>ì´ˆ1</option><option>ì´ˆ2</option><option>ì´ˆ3</option><option>ì´ˆ4</option><option>ì´ˆ5</option><option>ì´ˆ6</option>
                <option>ì¤‘1</option><option>ì¤‘2</option><option>ì¤‘3</option>
                <option>ê³ 1</option><option>ê³ 2</option><option>ê³ 3</option>
              </select></div>

              <label class="badge">ì„ í˜¸ ìƒë‹´ ë°©ë²•</label>
              <div style="display:flex;gap:10px;flex-wrap:wrap">
                <label class="pill"><input type="radio" name="pfChannel" value="ì „í™”" checked> ì „í™”</label>
                <label class="pill"><input type="radio" name="pfChannel" value="ì¹´ì¹´ì˜¤í†¡"> ì¹´ì¹´ì˜¤í†¡</label>
                <label class="pill"><input type="radio" name="pfChannel" value="ë°©ë¬¸"> ë°©ë¬¸</label>
              </div>

              <div class="field"><label class="badge" for="pfTime">ìƒë‹´ ê°€ëŠ¥ ì‹œê°„(ì„ íƒ)</label>
              <input id="pfTime" type="text" placeholder="ì˜ˆ: í‰ì¼ 14-18ì‹œ, ì£¼ë§ ì˜¤ì „ ë“±"></div>

              <label style="display:flex;gap:8px;align-items:flex-start">
                <input id="pfAgree" type="checkbox" required>
                <span class="subtitle">(í•„ìˆ˜) ì…ë ¥í•˜ì‹  ì •ë³´ëŠ” ìƒë‹´ ì—°ë½ ë° ê²°ê³¼ ì•ˆë‚´ì—ë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.</span>
              </label>

              <button type="submit" class="btn" id="leadSubmit">ìƒë‹´ ìš”ì²­í•˜ê³  ë©”ì¼ë¡œ ê²°ê³¼ì§€ ë°›ê¸°</button>
              <a href="tel:010-2380-0402" class="btn secondary" style="text-align:center">ì „í™” ì—°ê²° (010-2380-0402)</a>
            </form>
            <div class="grid" style="grid-template-columns:1fr;gap:8px;margin-top:12px">
              <label class="badge" for="approveCode">ìƒë‹´ì‚¬ ìŠ¹ì¸ì½”ë“œ</label>
              <div style="display:flex;gap:8px;align-items:center">
                <input id="approveCode" type="password" placeholder="ì½”ë“œ ì…ë ¥" style="flex:1">
                <button type="button" class="btn secondary" id="approveBtn">ìŠ¹ì¸</button>
              </div>
              <small class="subtitle" style="color:#334155">ìƒë‹´ì‚¬ê°€ ìŠ¹ì¸í•˜ë©´ ì½”ì¹­ ìš”ì•½ì´ ê³µê°œë©ë‹ˆë‹¤.</small>
            </div>
          </div>
        </div>
        <!-- â†‘â†‘â†‘ ë¸”ëŸ¬ ì²˜ë¦¬ ë â†‘â†‘â†‘ -->

        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:16px">
          <button class="btn" id="retryBtn">ë‹¤ì‹œ í•˜ê¸°</button>
          <button class="btn secondary" id="exportBtn">ê²°ê³¼ ì €ì¥(JSON)</button>
        </div>
        <details style="margin-top:10px"><summary class="badge">ë‚´ì¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ (ê°œë°œìš©)</summary><pre id="testOutput" style="white-space:pre-wrap"></pre></details>
      </div>
    </section>

    <footer>Â© Edufisher â€” 16ê°€ì§€ í•™ìŠµì„±í–¥ ê²€ì‚¬ í…œí”Œë¦¿ Â· ë‹¨ì¼ HTML íŒŒì¼ Â· ë¡œì»¬ì—ì„œ ë°”ë¡œ ì‘ë™</footer>
  </div>

<script>
/**********************
 * ì—ë“€í”¼ì…” 16ìœ í˜• í…œí”Œë¦¿ ì„¤ì •
 **********************/
const CONFIG={
 axes:[
  {id:"IMM_EXP",left:"ëª°ì…",right:"íƒí—˜",abbrL:"ëª°",abbrR:"íƒ"},
  {id:"PLAN_SPONT",left:"ê³„íš",right:"ì¦‰í¥",abbrL:"ê³„",abbrR:"ì¦‰"},
  {id:"CREATE_REAL",left:"ì°½ì˜",right:"í˜„ì‹¤",abbrL:"ì°½",abbrR:"í˜„"},
  {id:"PERFECT_EMO",left:"ì™„ë²½",right:"ê°ì •",abbrL:"ì™„",abbrR:"ê°"}
 ],
 TYPE_MAP:{},
 questions:[
  // IMM_EXP (23)
  {axis:"IMM_EXP",a:"ìˆ™ì œë¥¼ ì‹œì‘í•˜ë©´ ëê¹Œì§€ í•´ì•¼ ë§ˆìŒì´ í¸í•´ìš”.",b:"í•˜ë‹¤ê°€ ì§€ë£¨í•˜ë©´ ë‹¤ë¥¸ ê±¸ ë¨¼ì € í•´ìš”."},
  {axis:"IMM_EXP",a:"ì±…ì„ ì½ìœ¼ë©´ ë§ˆì§€ë§‰ê¹Œì§€ ë‹¤ ì½ì–´ìš”.",b:"ì¬ë¯¸ìˆëŠ” ë¶€ë¶„ë§Œ ì½ê³  ë„˜ì–´ê°€ìš”."},
  {axis:"IMM_EXP",a:"í•œ ê²Œì„ì„ ì˜¤ë˜ í•´ìš”.",b:"ì—¬ëŸ¬ ê²Œì„ì„ ë²ˆê°ˆì•„ í•˜ë©° ì¦ê²¨ìš”."},
  {axis:"IMM_EXP",a:"ê³µë¶€í•  ë•Œ ì‹œê°„ ê°€ëŠ” ì¤„ ëª°ë¼ìš”.",b:"ì¡°ê¸ˆ í•˜ë‹¤ê°€ ì‰¬ëŠ” ê±¸ ìì£¼ í•´ìš”."},
  {axis:"IMM_EXP",a:"ê°™ì€ ë¬¸ì œë¥¼ ì—¬ëŸ¬ ë²ˆ í’€ì–´ë„ ê´œì°®ì•„ìš”.",b:"ìƒˆë¡œìš´ ë¬¸ì œê°€ ë” ì¬ë¯¸ìˆì–´ìš”."},
  {axis:"IMM_EXP",a:"ê·¸ë¦¼ì„ í•œ ì¥ ì™„ì„±í•  ë•Œê¹Œì§€ ì§‘ì¤‘í•´ìš”.",b:"ì—¬ëŸ¬ ê·¸ë¦¼ì„ ì¡°ê¸ˆì”© ê·¸ë ¤ìš”."},
  {axis:"IMM_EXP",a:"ì¢‹ì•„í•˜ëŠ” ì£¼ì œëŠ” ê³„ì† ì°¾ì•„ë´ìš”.",b:"ë‹¤ì–‘í•œ ì£¼ì œë¥¼ ì¡°ê¸ˆì”© ì•Œì•„ë´ìš”."},
  {axis:"IMM_EXP",a:"í•œ ê°€ì§€ë¥¼ ê¹Šì´ ë°°ìš°ëŠ” ê²Œ ì¢‹ì•„ìš”.",b:"ì—¬ëŸ¬ ê°€ì§€ë¥¼ ë„“ê²Œ ë°°ìš°ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  {axis:"IMM_EXP",a:"ìƒˆë¡œìš´ ê±¸ ë°°ìš°ë©´ ë” ì•Œê³  ì‹¶ì–´ìš”.",b:"ë°°ìš´ ê±¸ ë‹¤ë¥¸ ë° ì¨ë³´ëŠ” ê²Œ ë” ì¬ë¯¸ìˆì–´ìš”."},
  {axis:"IMM_EXP",a:"ëª°ì…í•˜ë©´ ì£¼ë³€ì´ ì•ˆ ë³´ì—¬ìš”.",b:"ê³µë¶€í•˜ë‹¤ê°€ë„ ë”´ìƒê°ì´ ìì£¼ ë‚˜ìš”."},
  {axis:"IMM_EXP",a:"ëê¹Œì§€ ë‹¤ í•´ì•¼ ì†ì´ ì‹œì›í•´ìš”.",b:"ì¡°ê¸ˆë§Œ í•´ë„ ê´œì°®ì•„ìš”."},
  {axis:"IMM_EXP",a:"ì¢‹ì•„í•˜ëŠ” ê±´ ì§ˆë¦¬ì§€ ì•Šì•„ìš”.",b:"ê¸ˆë°© ì§ˆë ¤ìš”."},
  {axis:"IMM_EXP",a:"ì§‘ì¤‘í•˜ë©´ ì˜¤ë˜ ë²„í‹¸ ìˆ˜ ìˆì–´ìš”.",b:"ì¡°ê¸ˆë§Œ í•´ë„ ê¸ˆë°© í”¼ê³¤í•´ìš”."},
  {axis:"IMM_EXP",a:"í•œ ê°€ì§€ì— ë¹ ì§€ë©´ ë‹¤ë¥¸ ê±´ ì•ˆ ë³´ì—¬ìš”.",b:"ì—¬ëŸ¬ ê±¸ ë™ì‹œì— í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  {axis:"IMM_EXP",a:"ëê¹Œì§€ í•´ë‚´ë©´ ë¿Œë“¯í•´ìš”.",b:"ìƒˆë¡œìš´ ê±¸ ì‹œì‘í•  ë•Œê°€ ë” ì„¤ë ˆìš”."},
  {axis:"IMM_EXP",a:"ë°˜ë³µí•´ì„œ í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”.",b:"ìƒˆë¡œìš´ ê±¸ ìì£¼ ë°”ê¾¸ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  {axis:"IMM_EXP",a:"ì§‘ì¤‘í•  ë• ëˆ„ê°€ ë¶ˆëŸ¬ë„ ëª°ë¼ìš”.",b:"ì¡°ê¸ˆë§Œ ì†Œë¦¬ ë‚˜ë„ ì§‘ì¤‘ì´ ê¹¨ì ¸ìš”."},
  {axis:"IMM_EXP",a:"í•˜ë˜ ê±¸ ì™„ì„±í•˜ê³  ë„˜ì–´ê°€ìš”.",b:"ì¤‘ê°„ì— ë‹¤ë¥¸ ê±¸ ë¨¼ì € í•´ìš”."},
  {axis:"IMM_EXP",a:"ê°™ì€ ë…¸ë˜ë¥¼ ì—¬ëŸ¬ ë²ˆ ë“¤ì–´ë„ ì¢‹ì•„ìš”.",b:"ìƒˆ ë…¸ë˜ê°€ ë” ì¢‹ì•„ìš”."},
  {axis:"IMM_EXP",a:"ê²Œì„ì—ì„œ ìµœê³  ì ìˆ˜ë¥¼ ê¼­ ì°ê³  ì‹¶ì–´ìš”.",b:"ìƒˆë¡œìš´ ë ˆë²¨ì„ ì‹œë„í•´ë³´ëŠ” ê²Œ ë” ì‹ ë‚˜ìš”."},
  {axis:"IMM_EXP",a:"ì •ë¦¬í•  ë•Œ í•œ ê³³ì„ ëë‚´ê³  ë‹¤ìŒìœ¼ë¡œ ê°€ìš”.",b:"ì—¬ê¸°ì €ê¸° ì¡°ê¸ˆì”© ì •ë¦¬í•´ìš”."},
  {axis:"IMM_EXP",a:"í•˜ë‚˜ë¥¼ ê¹Šê²Œ ì•„ëŠ” ê²Œ ì¢‹ì•„ìš”.",b:"ì—¬ëŸ¬ ê±¸ ì¡°ê¸ˆì”© ì•„ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  {axis:"IMM_EXP",a:"ëª°ë‘í•˜ë©´ ì‹œê°„ì´ ìˆœì‹ê°„ì— ê°€ìš”.",b:"ìì£¼ ë‹¤ë¥¸ ìƒê°ì´ ë– ì˜¬ë¼ìš”."},
  // PLAN_SPONT (23)
  {axis:"PLAN_SPONT",a:"ê³µë¶€ ìˆœì„œë¥¼ ë¯¸ë¦¬ ì •í•´ìš”.",b:"ê³µë¶€í•˜ë©´ì„œ ê·¸ë•Œê·¸ë•Œ ì •í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ì¼ì •ì„ ì„¸ì›Œë‘ë©´ ë§ˆìŒì´ í¸í•´ìš”.",b:"ê·¸ë‚  ê¸°ë¶„ì— ë”°ë¼ í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  {axis:"PLAN_SPONT",a:"ë‚´ì¼ í•  ì¼ì„ ë¯¸ë¦¬ ì¤€ë¹„í•´ìš”.",b:"ë‚´ì¼ ì•„ì¹¨ì— ë°”ë¡œ í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ê³„íšëŒ€ë¡œ ì›€ì§ì´ëŠ” ê²Œ ì¢‹ì•„ìš”.",b:"ì¦‰í¥ì ìœ¼ë¡œ í•˜ëŠ” ê²Œ ë” ì‹ ë‚˜ìš”."},
  {axis:"PLAN_SPONT",a:"ì‹œí—˜ê³µë¶€ëŠ” ë©°ì¹  ì „ë¶€í„° ë‚˜ëˆ ì„œ í•´ìš”.",b:"ì „ë‚  ëª°ì•„ì„œ í•˜ë©´ ë” ì§‘ì¤‘ë¼ìš”."},
  {axis:"PLAN_SPONT",a:"ì•½ì† ì‹œê°„ì„ ê¼­ ì§€ì¼œìš”.",b:"ì¡°ê¸ˆ ëŠ¦ì–´ë„ ê´œì°®ë‹¤ê³  ìƒê°í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ê°€ë°©ì„ ì „ë‚  ì±™ê²¨ìš”.",b:"ì•„ì¹¨ì— ê¸‰í•˜ê²Œ ì±™ê²¨ìš”."},
  {axis:"PLAN_SPONT",a:"ìˆ™ì œë¥¼ ë¯¸ë¦¬ í•´ë‘ëŠ” ê²Œ í¸í•´ìš”.",b:"ë§ˆê° ì „ì— í•œ ë²ˆì— í•˜ëŠ” ê²Œ í¸í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ê³µë¶€í•  ë•Œ ìˆœì„œë¥¼ ì •í•´ë‘¬ìš”.",b:"ìƒê°ë‚˜ëŠ” ê²ƒë¶€í„° í•´ìš”."},
  {axis:"PLAN_SPONT",a:"í•˜ë£¨ë¥¼ ê³„íšëŒ€ë¡œ ë³´ë‚´ë©´ ë¿Œë“¯í•´ìš”.",b:"ê³„íš ì—†ì´ ììœ ë¡œìš´ ê²Œ ì¢‹ì•„ìš”."},
  {axis:"PLAN_SPONT",a:"ìƒˆë¡œìš´ ê³„íš ì„¸ìš°ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.",b:"ê·¸ë•Œê·¸ë•Œ í•˜ê³  ì‹¶ì€ ê±¸ í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ì‹œí—˜ ì¼ì •í‘œë¥¼ ë¯¸ë¦¬ í™•ì¸í•´ìš”.",b:"ì‹œí—˜ ë‹¤ê°€ì˜¤ë©´ ê·¸ë•Œ í™•ì¸í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ì¼ì£¼ì¼ ê³„íšì„ ì„¸ì›Œìš”.",b:"ì˜¤ëŠ˜ í•˜ë£¨ë§Œ ìƒê°í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ì •ë¦¬ì •ëˆì´ ì˜ ë¼ì•¼ ì§‘ì¤‘ë¼ìš”.",b:"ì¡°ê¸ˆ ì–´ìˆ˜ì„ í•´ë„ ê´œì°®ì•„ìš”."},
  {axis:"PLAN_SPONT",a:"í•´ì•¼ í•  ì¼ì„ ìˆœì„œëŒ€ë¡œ í•´ìš”.",b:"ì¤‘ê°„ì— ë§ˆìŒì´ ê°€ëŠ” ê±¸ ë¨¼ì € í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ê³µë¶€ ì‹œê°„í‘œë¥¼ ë§Œë“¤ì–´ë‘¬ìš”.",b:"ê·¸ë•Œê·¸ë•Œ ì‹œê°„ ë§ì¶° í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ì£¼ë§ ê³„íšë„ ë¯¸ë¦¬ ì •í•´ìš”.",b:"ì¦‰í¥ì ìœ¼ë¡œ ë†€ì•„ìš”."},
  {axis:"PLAN_SPONT",a:"ì •ë¦¬ëœ ì±…ìƒì´ ì¢‹ì•„ìš”.",b:"ì¡°ê¸ˆ ì–´ì§ˆëŸ¬ì ¸ë„ í¸í•´ìš”."},
  {axis:"PLAN_SPONT",a:"ëª©í‘œë¥¼ ì„¸ìš°ê³  ì°¨ê·¼ì°¨ê·¼ í•´ìš”.",b:"í•˜ë‹¤ ë³´ë©´ ëª©í‘œê°€ ìƒê²¨ìš”."},
  {axis:"PLAN_SPONT",a:"ì‹œê°„ ì•½ì†ì„ ì˜ ì§€ì¼œìš”.",b:"ëŠ¦ì–´ë„ ê´œì°®ì•„ìš”."},
  {axis:"PLAN_SPONT",a:"ê³„íšì´ ë°”ë€Œë©´ ë¶ˆí¸í•´ìš”.",b:"ë°”ë€Œë©´ ìƒˆë¡œ í•˜ë©´ ë¼ìš”."},
  {axis:"PLAN_SPONT",a:"ê³„íší‘œë¥¼ ì±„ìš°ëŠ” ê²Œ ì¬ë¯¸ìˆì–´ìš”.",b:"ê³„íší‘œëŠ” ì˜ ì•ˆ ì¨ìš”."},
  {axis:"PLAN_SPONT",a:"ì •í•´ì§„ ë£¨í‹´ì´ ì¢‹ì•„ìš”.",b:"ë§¤ì¼ ë‹¤ë¥´ê²Œ í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  // CREATE_REAL (23)
  {axis:"CREATE_REAL",a:"ìƒˆë¡œìš´ ë†€ì´ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë´ìš”.",b:"ì´ë¯¸ ìˆëŠ” ë†€ì´ë¥¼ ì˜í•´ìš”."},
  {axis:"CREATE_REAL",a:"ìƒìƒí•˜ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.",b:"ì‹¤ì œë¡œ ìˆëŠ” ê±¸ ë³´ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  {axis:"CREATE_REAL",a:"ìƒ‰ì—°í•„ë¡œ ê¾¸ë¯¸ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.",b:"ê¹”ë”í•œ í‘ë°± ì •ë¦¬ê°€ ì¢‹ì•„ìš”."},
  {axis:"CREATE_REAL",a:"ë‚´ ë°©ì‹ëŒ€ë¡œ í•´ë³´ëŠ” ê²Œ ì¢‹ì•„ìš”.",b:"ì„ ìƒë‹˜ì´ ì•Œë ¤ì¤€ ëŒ€ë¡œ í•´ìš”."},
  {axis:"CREATE_REAL",a:"ë‹¤ë¥¸ ìƒê°ì„ ë– ì˜¬ë¦¬ëŠ” ê²Œ ì¬ë°Œì–´ìš”.",b:"ì •ë‹µì„ ì°¾ëŠ” ê²Œ ì¬ë°Œì–´ìš”."},
  {axis:"CREATE_REAL",a:"ìƒˆë¡œìš´ ë°©ë²•ì„ ì‹œë„í•´ë´ìš”.",b:"ìµìˆ™í•œ ë°©ë²•ì´ í¸í•´ìš”."},
  {axis:"CREATE_REAL",a:"ê¿ˆê¾¸ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.",b:"ì§€ê¸ˆ í•  ì¼ì„ ë¨¼ì € í•´ìš”."},
  {axis:"CREATE_REAL",a:"ìƒìƒ ì† ì´ì•¼ê¸°ë¥¼ ë§Œë“¤ì–´ìš”.",b:"ì‹¤ì œ ì´ì•¼ê¸° ë“£ëŠ” ê±¸ ì¢‹ì•„í•´ìš”."},
  {axis:"CREATE_REAL",a:"ê·œì¹™ì„ ë°”ê¿”ë³´ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.",b:"ê·œì¹™ì„ ì§€í‚¤ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  {axis:"CREATE_REAL",a:"ê·¸ë¦¼ ê·¸ë¦´ ë•Œ ë‚´ ë§ˆìŒëŒ€ë¡œ ìƒ‰ì„ ì¨ìš”.",b:"ì‹¤ì œ ëª¨ìŠµëŒ€ë¡œ ìƒ‰ì„ ì¨ìš”."},
  {axis:"CREATE_REAL",a:"ìƒˆë¡œìš´ ì•„ì´ë””ì–´ê°€ ìì£¼ ë– ì˜¬ë¼ìš”.",b:"ë°°ìš´ ê±¸ ê·¸ëŒ€ë¡œ ì¨ìš”."},
  {axis:"CREATE_REAL",a:"ìƒìƒì„ ê¸€ë¡œ ì“°ëŠ” ê²Œ ì¢‹ì•„ìš”.",b:"ì‚¬ì‹¤ì„ ì ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  {axis:"CREATE_REAL",a:"ì¬ë°ŒëŠ” ìƒìƒì„ ë§ì´ í•´ìš”.",b:"í˜„ì‹¤ì ì¸ ì–˜ê¸°ë¥¼ ì¢‹ì•„í•´ìš”."},
  {axis:"CREATE_REAL",a:"ê·¸ë¦¼ ê·¸ë¦´ ë•Œ ê¾¸ë©°ìš”.",b:"ìˆëŠ” ê·¸ëŒ€ë¡œ ê·¸ë ¤ìš”."},
  {axis:"CREATE_REAL",a:"ìƒˆë¡œìš´ ê±¸ ë§Œë“¤ê³  ì‹¶ì–´ìš”.",b:"ì˜ ë˜ëŠ” ê±¸ ë°˜ë³µí•˜ê³  ì‹¶ì–´ìš”."},
  {axis:"CREATE_REAL",a:"ìƒìƒí•œ ê±¸ ì‹¤ì œë¡œ ë§Œë“¤ì–´ë´ìš”.",b:"ê·¸ë¦¼ìœ¼ë¡œë§Œ ë‚¨ê²¨ìš”."},
  {axis:"CREATE_REAL",a:"ì°½ì˜ì ì¸ ê²Œ ë©‹ìˆì–´ìš”.",b:"ì‹¤ìš©ì ì¸ ê²Œ ë©‹ìˆì–´ìš”."},
  {axis:"CREATE_REAL",a:"ìƒ‰ë‹¤ë¥¸ ê±¸ ì¢‹ì•„í•´ìš”.",b:"ìµìˆ™í•œ ê²Œ ì¢‹ì•„ìš”."},
  {axis:"CREATE_REAL",a:"ìƒˆë¡œìš´ ê·œì¹™ì„ ë§Œë“¤ì–´ë´ìš”.",b:"ì›ë˜ ê·œì¹™ì„ ì˜ ì§€ì¼œìš”."},
  {axis:"CREATE_REAL",a:"ë‚´ ìƒê°ì„ ê·¸ë¦¼ì´ë‚˜ ë§ë¡œ í‘œí˜„í•´ìš”.",b:"í•„ìš”í•œ ë§ë§Œ í•´ìš”."},
  {axis:"CREATE_REAL",a:"ìƒìƒ ì† ì„¸ê³„ë¥¼ ìì£¼ ë– ì˜¬ë ¤ìš”.",b:"ì‹¤ì œ ì„¸ìƒì„ ë” ë§ì´ ë´ìš”."},
  {axis:"CREATE_REAL",a:"ìƒˆë¡œìš´ ì•„ì´ë””ì–´ ì–˜ê¸° ë“£ëŠ” ê²Œ ì¢‹ì•„ìš”.",b:"ê²€ì¦ëœ ì–˜ê¸°ê°€ ë” ì¢‹ì•„ìš”."},
  {axis:"CREATE_REAL",a:"ì§ì ‘ ë°œëª…í•´ë³´ëŠ” ê±¸ ì¢‹ì•„í•´ìš”.",b:"ë§Œë“¤ì–´ì§„ ê±¸ ì‚¬ìš©í•˜ëŠ” ê²Œ ì¢‹ì•„ìš”."},
  // PERFECT_EMO (23)
  {axis:"PERFECT_EMO",a:"í‹€ë¦¬ë©´ ë‹¤ì‹œ ê³ ì³ìš”.",b:"í‹€ë ¤ë„ ê´œì°®ì•„ìš”."},
  {axis:"PERFECT_EMO",a:"ì •í™•í•˜ê²Œ í•˜ë ¤ê³  ë…¸ë ¥í•´ìš”.",b:"ê¸°ë¶„ ì¢‹ê²Œ í•˜ëŠ” ê²Œ ë” ì¤‘ìš”í•´ìš”."},
  {axis:"PERFECT_EMO",a:"ê²°ê³¼ë³´ë‹¤ ê³¼ì •ì´ ì¤‘ìš”í•´ìš”.",b:"ê¸°ë¶„ì´ ì¢‹ìœ¼ë©´ ê²°ê³¼ë„ ì¢‹ì•„ìš”."},
  {axis:"PERFECT_EMO",a:"ê¸€ì”¨ë¥¼ ì˜ˆì˜ê²Œ ì¨ìš”.",b:"ë¹¨ë¦¬ ì“°ëŠ” ê²Œ ë” ì¤‘ìš”í•´ìš”."},
  {axis:"PERFECT_EMO",a:"í‹€ë¦° ë¬¸ì œë¥¼ ë‹¤ì‹œ í’€ì–´ìš”.",b:"í‹€ë¦° ê±´ ê·¸ëƒ¥ ë„˜ì–´ê°€ìš”."},
  {axis:"PERFECT_EMO",a:"ì™„ë²½í•˜ê²Œ í•˜ë ¤ í•´ìš”.",b:"ëŒ€ì¶© í•´ë„ ê´œì°®ì•„ìš”."},
  {axis:"PERFECT_EMO",a:"ì‹¤ìˆ˜ë¥¼ ê³ ì¹˜ëŠ” ê²Œ ì¬ë¯¸ìˆì–´ìš”.",b:"ìƒˆë¡œìš´ ê±¸ í•˜ëŠ” ê²Œ ë” ì¢‹ì•„ìš”."},
  {axis:"PERFECT_EMO",a:"ë‹¤ì‹œ í™•ì¸í•´ìš”.",b:"í•œ ë²ˆ ë³´ë©´ ëì´ì—ìš”."},
  {axis:"PERFECT_EMO",a:"ì˜í•˜ê³  ì‹¶ë‹¤ëŠ” ë§ˆìŒì´ ì»¤ìš”.",b:"ê¸°ë¶„ ì¢‹ê²Œ í•˜ê³  ì‹¶ì–´ìš”."},
  {axis:"PERFECT_EMO",a:"ë‚´ê°€ í‹€ë¦¬ë©´ ì†ìƒí•´ìš”.",b:"ê´œì°®ë‹¤ê³  ìƒê°í•´ìš”."},
  {axis:"PERFECT_EMO",a:"ì‹¤ìˆ˜í•˜ë©´ ë°”ë¡œ ê³ ì³ìš”.",b:"ë‹¤ìŒì—” ì˜í•˜ë©´ ëœë‹¤ê³  ìƒê°í•´ìš”."},
  {axis:"PERFECT_EMO",a:"ì˜ëª»ë˜ë©´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•´ìš”.",b:"ê·¸ëƒ¥ ì´ì–´ì„œ í•´ìš”."},
  {axis:"PERFECT_EMO",a:"ë°œí‘œ ì „ì— ì—¬ëŸ¬ ë²ˆ ì—°ìŠµí•´ìš”.",b:"ê·¸ë•Œê·¸ë•Œ ë§í•´ìš”."},
  {axis:"PERFECT_EMO",a:"ì •ë‹µì„ ê¼­ ì°¾ì•„ì•¼ í•´ìš”.",b:"ì •ë‹µë³´ë‹¤ ê³¼ì •ì´ ì¬ë°Œì–´ìš”."},
  {axis:"PERFECT_EMO",a:"ì˜í•œ ì¼ì€ ê³„ì† ìƒê°ë‚˜ìš”.",b:"ì¬ë°Œì—ˆë˜ ì¼ì´ ë” ê¸°ì–µë‚˜ìš”."},
  {axis:"PERFECT_EMO",a:"ì‹¤íŒ¨í•˜ë©´ ê¸°ë¶„ì´ ì•ˆ ì¢‹ì•„ìš”.",b:"ë‹¤ìŒì— ì˜í•˜ë©´ ë¼ìš”."},
  {axis:"PERFECT_EMO",a:"ì¹­ì°¬ë³´ë‹¤ í”¼ë“œë°±ì´ ë” ì¢‹ì•„ìš”.",b:"ì¹­ì°¬ì´ ë” í˜ì´ ë‚˜ìš”."},
  {axis:"PERFECT_EMO",a:"ì™„ë²½í•˜ê²Œ ëë‚´ì•¼ ë§ˆìŒì´ í¸í•´ìš”.",b:"ê°ì •ì´ ì¢‹ì•„ì•¼ ì§‘ì¤‘ë¼ìš”."},
  {axis:"PERFECT_EMO",a:"ê²°ê³¼ë¥¼ ê¼­ í™•ì¸í•´ìš”.",b:"ëŠë‚Œìœ¼ë¡œ ì•Œì•„ìš”."},
  {axis:"PERFECT_EMO",a:"ì ìˆ˜ì— ë¯¼ê°í•´ìš”.",b:"ê¸°ë¶„ì´ ì¢‹ìœ¼ë©´ ê´œì°®ì•„ìš”."},
  {axis:"PERFECT_EMO",a:"ì„±ê³µí•˜ë©´ í–‰ë³µí•´ìš”.",b:"ì¬ë°Œìœ¼ë©´ í–‰ë³µí•´ìš”."},
  {axis:"PERFECT_EMO",a:"ê³„íší•œ ëŒ€ë¡œ ì•ˆ ë˜ë©´ ì†ìƒí•´ìš”.",b:"ê¸°ë¶„ì´ ì¢‹ìœ¼ë©´ ê´œì°®ì•„ìš”."},
  {axis:"PERFECT_EMO",a:"í‹€ë¦° ê±¸ ë³´ë©´ ë°”ë¡œ ê³ ì³ìš”.",b:"í‹€ë ¤ë„ ì›ƒì–´ìš”."}
 ]
};

/*********** ìƒíƒœ & ì—˜ë¦¬ë¨¼íŠ¸ ***********/
const state={ idx:0, answers:{}, name:"" };
const el={
  intro:document.getElementById('intro'),
  quiz:document.getElementById('quiz'),
  result:document.getElementById('result'),
  startBtn:document.getElementById('startBtn'),
  nextBtn:document.getElementById('nextBtn'),
  prevBtn:document.getElementById('prevBtn'),
  username:document.getElementById('username'),
  qWrap:document.getElementById('qWrap'),
  qIndex:document.getElementById('qIndex'),
  qTotal:document.getElementById('qTotal'),
  progressBar:document.getElementById('progressBar'),
  axisBadge:document.getElementById('axisBadge'),
  resName:document.getElementById('resName'),
  resType:document.getElementById('resType'),
  resAxisRows:document.getElementById('resAxisRows'),
  resSummary:document.getElementById('resSummary'),
  resStrength:document.getElementById('resStrength'),
  resCaution:document.getElementById('resCaution'),
  resCoaching:document.getElementById('resCoaching'),
  retryBtn:document.getElementById('retryBtn'),
  exportBtn:document.getElementById('exportBtn'),
  testOutput:document.getElementById('testOutput'),
  overlay:document.getElementById('resultOverlay'),
  coachInner:document.getElementById('coachInner'),
  leadForm:document.getElementById('leadForm'),
  approveBtn:document.getElementById('approveBtn'),
  approveCode:document.getElementById('approveCode')
};

// ì›í•˜ëŠ” ì¶•/ì§ˆë¬¸ ìˆœì„œ ê°•ì œ
const AXIS_ORDER = ["IMM_EXP","PLAN_SPONT","CREATE_REAL","PERFECT_EMO"];
CONFIG.axes.sort((a,b)=>AXIS_ORDER.indexOf(a.id)-AXIS_ORDER.indexOf(b.id));
CONFIG.questions.forEach((q,i)=>{ if(!q.id) q.id=i+1; });
CONFIG.questions.sort((a,b)=>AXIS_ORDER.indexOf(a.axis)-AXIS_ORDER.indexOf(b.axis));

el.qTotal.textContent = CONFIG.questions.length;

/*********** ì´ë²¤íŠ¸ ***********/
function updateStartBtn(){
  const hasName = !!el.username.value.trim();
  el.startBtn.disabled = !hasName;
}
el.username.addEventListener('input', updateStartBtn);
el.username.addEventListener('change', updateStartBtn);
el.username.addEventListener('keyup', updateStartBtn);
el.username.addEventListener('blur', updateStartBtn);
// Enterë¡œ ë°”ë¡œ ì‹œì‘
el.username.addEventListener('keydown', (e)=>{ if(e.key==='Enter' && !el.startBtn.disabled){ el.startBtn.click(); } });
// ì´ˆê¸° ìƒíƒœ ë™ê¸°í™”
updateStartBtn();

el.startBtn.addEventListener('click',()=>{ state.name = el.username.value.trim(); el.intro.classList.add('hidden'); el.quiz.classList.remove('hidden'); state.idx = 0; state.answers={}; renderQuestion(); });
el.prevBtn.addEventListener('click',()=>{ if(state.idx>0){ state.idx--; renderQuestion(); }});
el.nextBtn.addEventListener('click',()=>{
  const q = CONFIG.questions[state.idx];
  const checked = el.qWrap.querySelector('input[name="a"]:checked');
  if(!checked){ alert('ì„ íƒí•´ì£¼ì„¸ìš”.'); return; }
  state.answers[q.id]=Number(checked.value);
  if(state.idx<CONFIG.questions.length-1){ state.idx++; renderQuestion(); }
  else { computeResult(); }
});
el.retryBtn.addEventListener('click',()=>{ el.result.classList.add('hidden'); el.intro.classList.remove('hidden'); el.username.focus(); });
el.exportBtn.addEventListener('click',()=>{
  const blob = new Blob([
    JSON.stringify({name:state.name, result:lastResult, answers:state.answers, date:new Date().toISOString()},null,2)
  ], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = `edufisher-16type-${Date.now()}.json`; a.click();
  URL.revokeObjectURL(url);
});

/*********** ë Œë” ***********/
function renderQuestion(){
  const q = CONFIG.questions[state.idx];
  el.qIndex.textContent = state.idx+1;
  el.progressBar.style.width = (((state.idx)/CONFIG.questions.length)*100).toFixed(1)+'%';
  const prev = state.answers[q.id]||0;
  el.qWrap.innerHTML = `
    <h3>ë‘ ë¬¸ì¥ ì¤‘ ë” ë‚˜ì—ê²Œ ê°€ê¹Œìš´ ê²ƒì„ ê³ ë¥´ì„¸ìš”.</h3>
    <div class="choice-wrap">
      <label><input type="radio" name="a" value="5" ${prev===5?'checked':''}/> ${q.a||''}</label>
      <label><input type="radio" name="a" value="1" ${prev===1?'checked':''}/> ${q.b||''}</label>
    </div>
  `;
}

/*********** ê³µí†µ ê³„ì‚° ë¡œì§ (ìˆœìˆ˜ í•¨ìˆ˜) ***********/
function deriveKeyFromAnswers(answers){
  const axisScores = CONFIG.axes.reduce((acc,a)=>{ acc[a.id]={sum:0,count:0}; return acc; },{});
  CONFIG.questions.forEach(q=>{
    const v = (answers[q.id] ?? 3);
    const weight = (v-3)/2;               // -1..+1 (A=5 â†’ +1, B=1 â†’ -1)
    const sign = +1;                      // í•­ìƒ ì™¼ìª½ ì§„ìˆ ì´ ì™¼ìª½ ê·¹
    axisScores[q.axis].sum += sign * weight;
    axisScores[q.axis].count++;
  });
  const key = CONFIG.axes.map(a=>{
    const s = axisScores[a.id];
    const avg = s.sum / Math.max(1,s.count); // -1..+1
    const leftPct = Math.round((avg + 1) * 50);
    return leftPct>=50 ? 'L' : 'R';
  }).join('');
  return {key, axisScores};
}

/*********** ê²°ê³¼ ê³„ì‚° ***********/
let lastResult=null;
function computeResult(){
  const {key, axisScores} = deriveKeyFromAnswers(state.answers);
  const polar = CONFIG.axes.map(a=>{
    const s = axisScores[a.id];
    const avg = s.sum / Math.max(1,s.count);
    const leftPct = Math.round((avg + 1) * 50);
    const rightPct = 100 - leftPct;
    const side = leftPct>=rightPct ? 'L' : 'R';
    return {axis:a, side, leftPct, rightPct, intensity:calcIntensity(leftPct,rightPct)};
  });
  const info = (CONFIG.TYPE_MAP && CONFIG.TYPE_MAP[key]) || makeGenericType(polar);
  lastResult = { key, info, polar };
  showResult(lastResult);
}

function makeGenericType(polar){
  const name = polar.map(p=> p.side==='L'? p.axis.abbrL : p.axis.abbrR ).join('Â·');
  return {
    name, summary:"ì¶•ì•½í˜• ì¡°í•©ìœ¼ë¡œ ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤. ì—ë“€í”¼ì…” ì „ìš© ì„¤ëª…ë¬¸ì„ TYPE_MAPì— ì¶”ê°€í•˜ì„¸ìš”.",
    strength:["ê°•ì ì„ ì—¬ê¸°ì—"], caution:["ì£¼ì˜ì ì„ ì—¬ê¸°ì—"],
    routine:["ë£¨í‹´ ì˜ˆì‹œ"], coaching:["ì½”ì¹­ í¬ì¸íŠ¸"], tools:["ë„êµ¬/ì•±"]
  };
}

function showResult(res){
  el.quiz.classList.add('hidden');
  el.result.classList.remove('hidden');
  el.resName.textContent = state.name;
  // ìœ í˜• ì½”ë“œëŠ” ìˆ¨ê¹€: (LLLL) í‘œì‹œ ì œê±°
  el.resType.textContent = res.info.name;
  el.resSummary.textContent = res.info.summary;
  // ì¶• ë°”(ë§‰ëŒ€) ë Œë”
  el.resAxisRows.innerHTML = '';
  res.polar.forEach(p=> renderAxisRow(el.resAxisRows, p.axis.left, p.axis.right, p.leftPct, p.rightPct));
  // ìš”ì•½ íŒ - ê° 2ê°œë§Œ
  const tips = buildTips(res.key);
  fillList(el.resStrength, tips.strength);
  fillList(el.resCaution, tips.caution);
  fillList(el.resCoaching, tips.coaching);
}

/*********** ìœ í‹¸ë¦¬í‹° ***********/
function fillList(ul, arr){ ul.innerHTML=''; (arr||[]).forEach(t=>{ const li=document.createElement('li'); li.textContent=t; ul.appendChild(li); }); }
function calcIntensity(left,right){const d=Math.max(left,right);return d>=70?"ëšœë ·":d>=55?"ì¤‘ê°„":"ê· í˜•";}
function renderAxisRow(container,lblL,lblR,l,r){
  const row=document.createElement('div');
  row.innerHTML=`<div style='display:flex;justify-content:space-between'><span>${lblL}</span><span>${lblR}</span></div>
  <div class='axis-bar'>
    <div class='axis-left' style='width:${l}%'>${lblL} ${l}%</div>
    <div class='axis-right' style='width:${r}%'>${lblR} ${r}%</div>
    <div class='axis-midline'></div>
  </div>
  <div class='axis-foot'>
    <span class='axis-chip axis-flag'>ì„ í˜¸: ${l>=r?lblL:lblR}</span>
    <span class='axis-chip'>ë¶„í¬: ${l}% / ${r}%</span>
    <span class='axis-chip'>ê°•ë„: ${calcIntensity(l,r)}</span>
  </div>`;
  container.appendChild(row);
}
function buildTips(code){
  const t={strength:[],caution:[],coaching:[]};
  // 1) ëª°ì…â†”íƒí—˜
  if(code[0]==='L'){t.strength.push('ê¹Šê²Œ íŒŒê³ ë“œëŠ” ì§‘ì¤‘ë ¥ì´ ì¢‹ì•„ìš”'); t.caution.push('í•œ ë°©í–¥ìœ¼ë¡œë§Œ ìƒê°í•˜ê¸° ì‰¬ì›Œìš”'); t.coaching.push('í•œ ì£¼ì— í•œ ë²ˆì€ ìƒˆë¡œìš´ ìë£Œë¥¼ ìŠ¤ìŠ¤ë¡œ ì°¾ì•„ë³´ê¸°');}
  else{t.strength.push('í˜¸ê¸°ì‹¬ì´ ë§ì•„ ë°°ì›€ì˜ í­ì´ ë„“ì–´ìš”'); t.caution.push('ì§‘ì¤‘ì´ ì‰½ê²Œ ë¶„ì‚°ë  ìˆ˜ ìˆì–´ìš”'); t.coaching.push('ì˜¤ëŠ˜ì˜ í•œ ì£¼ì œë§Œ ì •í•´ 20ë¶„ ì§‘ì¤‘í•˜ê¸°');}
  // 2) ê³„íšâ†”ì¦‰í¥
  if(code[1]==='L'){t.strength.push('ëª©í‘œë¥¼ ì„¸ìš°ê³  ê¾¸ì¤€íˆ ê°€ëŠ” í˜ì´ ìˆì–´ìš”'); t.caution.push('ê³„íšì— ë¬¶ì—¬ ìœµí†µì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆì–´ìš”'); t.coaching.push('ê³„íší‘œì— â€œìœ ì—°í•œ ì‹œê°„â€ 10% ë„£ê¸°');}
  else{t.strength.push('ì‹œë„ë¥¼ ì¦ê²¨ ë°°ì›€ì— í™œê¸°ë¥¼ ë”í•´ìš”'); t.caution.push('ì¤€ë¹„ ë¶€ì¡±ìœ¼ë¡œ ì‹¤ìˆ˜ê°€ ìƒê¸¸ ìˆ˜ ìˆì–´ìš”'); t.coaching.push('í•˜ë£¨ ì‹œì‘ ì „ì— 3ì¤„ ê³„íš ë©”ëª¨í•˜ê¸°');}
  // 3) ì°½ì˜â†”í˜„ì‹¤
  if(code[2]==='L'){t.caution.push('í˜„ì‹¤ì  ì œì•½ì„ ê°„ê³¼í•  ìˆ˜ ìˆì–´ìš”'); t.coaching.push('ì•„ì´ë””ì–´ 1ê°œë¥¼ ì‹¤ì œë¡œ ë§Œë“¤ì–´ ë³´ê¸°');}
  else{t.caution.push('ìƒˆë¡œìš´ ì‹œë„ë¥¼ ë§ì„¤ì¼ ìˆ˜ ìˆì–´ìš”'); t.coaching.push('í‰ì†Œì™€ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë¬¸ì œ í•´ê²° ë„ì „');}
  // 4) ì™„ë²½â†”ê°ì •
  if(code[3]==='L'){t.caution.push('ì™„ë²½ ì¶”êµ¬ë¡œ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆì–´ìš”'); t.coaching.push('â€œì™„ë²½ë³´ë‹¤ ì™„ì„±â€ ì²´í¬ë°•ìŠ¤ë¡œ ë§ˆë¬´ë¦¬');}
  else{t.caution.push('ê¸°ë¶„ì— ë”°ë¼ ì§‘ì¤‘ë ¥ì´ í”ë“¤ë¦´ ìˆ˜ ìˆì–´ìš”'); t.coaching.push('ê°ì •ì´ í”ë“¤ë¦´ ë•Œ 2ë¶„ í˜¸í¡ í›„ ì¬ì‹œì‘');}
  return { strength:t.strength.slice(0,2), caution:t.caution.slice(0,2), coaching:t.coaching.slice(0,2) };
}

/*********** ë¦¬ë“œ ìˆ˜ì§‘ & ìŠ¹ì¸ ê³µê°œ ***********/
const APPROVE_CODE = '0402';
(function attachLeadHandlers(){
  if(el.leadForm){
    el.leadForm.addEventListener('submit',(e)=>{
      e.preventDefault();
      const name = (document.getElementById('pfName').value||'').trim();
      const phone = (document.getElementById('pfPhone').value||'').trim();
      const grade = document.getElementById('pfGrade').value||'';
      const time = (document.getElementById('pfTime').value||'').trim();
      const agree = document.getElementById('pfAgree').checked;
      const channel = (el.leadForm.querySelector('input[name="pfChannel"]:checked')||{value:'ì „í™”'}).value;
      if(!name || !phone || !agree){ alert('ì„±í•¨, ì—°ë½ì²˜, ë™ì˜ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.'); return; }

      const when = new Date().toLocaleString();
      const lines = [
        '[ìƒë‹´ ìš”ì²­ â€” ì—ë“€í”¼ì…” 16ê°€ì§€ í•™ìŠµì„±í–¥]',
        `ë³´í˜¸ì: ${name}`,
        `ì—°ë½ì²˜: ${phone}`,
        `ìë…€ í•™ë…„: ${grade||'ë¯¸ì…ë ¥'}`,
        `ì„ í˜¸ ìƒë‹´: ${channel}`,
        `ê°€ëŠ¥ ì‹œê°„: ${time||'ë¯¸ì…ë ¥'}`,
        `ìš”ì²­ ì‹œê°: ${when}`,
        '',
        'â€” ê²€ì‚¬ ìš”ì•½ â€”'
      ];
      if(window.lastResult){
        lines.push(`ìˆ˜í—˜ì: ${state.name||'ë¬´ê¸°ëª…'}`);
        window.lastResult.polar.forEach(p=>{
          const prefer = p.leftPct>=p.rightPct ? p.axis.left : p.axis.right;
          lines.push(`Â· ${p.axis.left} ${p.leftPct}% / ${p.axis.right} ${p.rightPct}% (ì„ í˜¸: ${prefer})`);
        });
      }
      const subject = encodeURIComponent(`[ìƒë‹´ìš”ì²­] ${name} â€” ${state.name||'ë¬´ê¸°ëª…'}`);
      const body = encodeURIComponent(lines.join('\n'));
      window.location.href = `mailto:edufisher@naver.com?subject=${subject}&body=${body}`;

      // ê³µê°œ ë³´ë¥˜: ì˜¤ë²„ë ˆì´ ë¬¸êµ¬ë§Œ ê°±ì‹ 
      if(el.overlay){
        const box = el.overlay.querySelector('.overlay-box');
        if(box){
          box.querySelector('h3').textContent = 'ìƒë‹´ì‚¬ ìŠ¹ì¸ ëŒ€ê¸° ì¤‘';
          const p = box.querySelector('p.subtitle') || box.querySelector('p');
          if(p) p.textContent = 'ìƒë‹´ì‚¬ê°€ í™•ì¸ í›„ ìŠ¹ì¸í•˜ë©´ ì½”ì¹­ ê²°ê³¼ê°€ ê³µê°œë©ë‹ˆë‹¤.';
        }
      }
    });
  }
  if(el.approveBtn){
    el.approveBtn.addEventListener('click',()=>{
      const code = (el.approveCode.value||'').trim();
      if(code===APPROVE_CODE){
        if(el.coachInner){ el.coachInner.classList.remove('is-blurred'); }
        if(el.overlay){ el.overlay.style.display='none'; }
      }else{
        alert('ìŠ¹ì¸ì½”ë“œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
      }
    });
  }
})();

/*********** ë‚´ì¥ í…ŒìŠ¤íŠ¸ (ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì¡´ì¤‘ + ì¶”ê°€ TC) ***********/
(function runEmbeddedTests(){
  const logs=[]; const pass=(msg)=>logs.push('âœ… '+msg); const fail=(msg)=>logs.push('âŒ '+msg);
  function simulateAll(val){ const answers={}; CONFIG.questions.forEach(q=> answers[q.id]=val); return deriveKeyFromAnswers(answers).key; }
  function simulateByAxis(map){ const answers={}; CONFIG.questions.forEach(q=>{ answers[q.id] = map[q.axis] ?? 3; }); return deriveKeyFromAnswers(answers).key; }
  try{
    const k1 = simulateAll(5); if(k1==='LLLL') pass('TC1 ëª¨ë‘ 5 â†’ LLLL'); else fail('TC1 ì˜ˆìƒ LLLL, ì‹¤ì œ '+k1);
    const k2 = simulateAll(1); if(k2==='RRRR') pass('TC2 ëª¨ë‘ 1 â†’ RRRR'); else fail('TC2 ì˜ˆìƒ RRRR, ì‹¤ì œ '+k2);
    const k3 = simulateAll(3); if(k3==='LLLL') pass('TC3 ëª¨ë‘ 3 â†’ ê²½ê³„ê°’ ì²˜ë¦¬ë¡œ LLLL'); else fail('TC3 ì˜ˆìƒ LLLL(ê²½ê³„), ì‹¤ì œ '+k3);
    const k4 = simulateByAxis({IMM_EXP:5, PLAN_SPONT:1, CREATE_REAL:1, PERFECT_EMO:1}); if(k4==='LRRR') pass('TC4 LRRR (ì²« ì¶•ë§Œ 5, ë‚˜ë¨¸ì§€ 1)'); else fail('TC4 ì˜ˆìƒ LRRR, ì‹¤ì œ '+k4);
    const k5 = simulateByAxis({IMM_EXP:1, PLAN_SPONT:5, CREATE_REAL:1, PERFECT_EMO:5}); if(k5==='RLRL') pass('TC5 RLRL (êµì°¨ ê°’)'); else fail('TC5 ì˜ˆìƒ RLRL, ì‹¤ì œ '+k5);
  }catch(e){ logs.push('âŒ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì˜¤ë¥˜: '+e.message); }
  const out = document.getElementById('testOutput'); if(out) out.textContent = logs.join('\n');
})();
// ìƒë‹´ ì‹ ì²­/ìŠ¹ì¸ ë¡œì§
// APPROVE_CODE is declared above; reuse it here.
(function leadFlow(){
  const overlay = document.getElementById('resultOverlay');
  const leadCard = document.getElementById('leadCard');
  const coachInner = document.getElementById('coachInner');
  const form = document.getElementById('leadForm');
  const approveBtn = document.getElementById('approveBtn');
  const approveCode = document.getElementById('approveCode');
  if(form){
    form.addEventListener('submit',(e)=>{
      e.preventDefault();
      const name = (document.getElementById('pfName').value||'').trim();
      const phone = (document.getElementById('pfPhone').value||'').trim();
      const grade = document.getElementById('pfGrade').value||'';
      const time = (document.getElementById('pfTime').value||'').trim();
      const agree = document.getElementById('pfAgree').checked;
      const channel = (form.querySelector('input[name="pfChannel"]:checked')||{value:'ì „í™”'}).value;
      if(!name || !phone || !agree){ alert('ì„±í•¨, ì—°ë½ì²˜, ë™ì˜ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.'); return; }

      const when = new Date().toLocaleString();
      const lines = [
        '[ìƒë‹´ ìš”ì²­ â€” ì—ë“€í”¼ì…” 16ê°€ì§€ í•™ìŠµì„±í–¥]',
        `ë³´í˜¸ì: ${name}`,
        `ì—°ë½ì²˜: ${phone}`,
        `ìë…€ í•™ë…„: ${grade||'ë¯¸ì…ë ¥'}`,
        `ì„ í˜¸ ìƒë‹´: ${channel}`,
        `ê°€ëŠ¥ ì‹œê°„: ${time||'ë¯¸ì…ë ¥'}`,
        `ìš”ì²­ ì‹œê°: ${when}`,
        '',
        'â€” ê²€ì‚¬ ìš”ì•½ â€”'
      ];
      if(window.lastResult){
        lines.push(`ìˆ˜í—˜ì: ${state.name||'ë¬´ê¸°ëª…'}`);
        window.lastResult.polar.forEach(p=>{
          const prefer = p.leftPct>=p.rightPct ? p.axis.left : p.axis.right;
          lines.push(`Â· ${p.axis.left} ${p.leftPct}% / ${p.axis.right} ${p.rightPct}% (ì„ í˜¸: ${prefer})`);
        });
      }
      const subject = encodeURIComponent(`[ìƒë‹´ìš”ì²­] ${name} â€” ${state.name||'ë¬´ê¸°ëª…'}`);
      const body = encodeURIComponent(lines.join('\n'));
      window.location.href = `mailto:edufisher@naver.com?subject=${subject}&body=${body}`;

      // ì œì¶œ í›„ì—ë„ ë¹„ê³µê°œ ìœ ì§€. ì¹´ë“œ í…ìŠ¤íŠ¸ ê°±ì‹ 
      const h3 = leadCard.querySelector('h3'); if(h3) h3.textContent='ìƒë‹´ì‚¬ ìŠ¹ì¸ ëŒ€ê¸° ì¤‘';
      const p = leadCard.querySelector('p'); if(p) p.textContent='ìƒë‹´ì‚¬ê°€ í™•ì¸ í›„ ìŠ¹ì¸í•˜ë©´ ì½”ì¹­ ìš”ì•½ì´ ê³µê°œë©ë‹ˆë‹¤.';
    });
  }
  if(approveBtn){
    approveBtn.addEventListener('click',()=>{
      const code = (approveCode.value||'').trim();
      if(code===APPROVE_CODE){
        if(coachInner) coachInner.classList.remove('is-blurred');
        if(overlay) overlay.style.display='none';
        if(leadCard) leadCard.style.display='none';
      }else{
        alert('ìŠ¹ì¸ì½”ë“œê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
      }
    });
  }
})();
</script>
</body>
</html>
